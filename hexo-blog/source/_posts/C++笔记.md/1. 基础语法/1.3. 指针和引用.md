# 1.3. 指针和引用

# 指针

作用：

1. 指针可以保存内存地址的编号。
2. 通过指针可以间接访问内存。

定义指针变量：

```c
数据类型 *变量名;
```

运算符：

- `&`：取地址
- `*`：取值（解引用）

**指针变量的占用空间**：

- 在 32 位操作系统下，占 4 字节。
- 在 64 位操作系统下，占 8 字节。
- 指针的占用空间与数据类型无关，与系统位数有关。

**指针变量的初始化：**

- 空指针：存储编号为 0 的地址，空指针无法被访问。
- 初始化为空指针（NULL 表示 0）：

```c
int *p = NULL;
```

- 野指针：存储的内存地址，不是当前程序申请的。

# 引用

**引用的介绍：**

- 引用是变量的别名，必须和一个变量进行绑定。
- 引用变量和原变量，访问同一块内存。
- 引用变量在操作上就等价于原变量

**引用和指针的对比：**

- 指针存储地址，需要进行取值运算。引用直接和原变量绑定，可以直接修改原变量。
- 指针可以为空，引用不可以，必须绑定一个变量。
- 引用的本质是一个指针常量，自动进行解引用操作。

**创建引用：**

- 引用必须要初始化，一旦初始化，就不能更换引用。

```cpp
数据类型 &别名 = 变量名;
```

**修饰引用：**

```cpp
别名 = 值;
```

## 函数中的引用

**引用类型的形参：**

- 在函数中，引用的形参可以当做实参使用，操作比指针更简单。

```cpp
// 引用实现交换两个变量的值
void swap(int &num1, int &num2) {
	int temp;
	temp = num1;
	num1 = num2;
	num2 = temp;
}
```

**返回引用类型：**

- 不能返回局部变量的引用，因为离开函数后，局部变量将被销毁。

## 常量引用

- 常量通常用作形参，防止通过形参修改到实参。
- 使用常量引用相比值传递，消耗的空间更少。

```c
void show(const string &msg) { ... }
```
