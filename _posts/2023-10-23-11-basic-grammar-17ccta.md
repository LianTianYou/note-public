---
layout: post
title: 1.1. 基本语法
date: '2023-10-23 23:55:15'
permalink: /post/11-basic-grammar-17ccta.html
published: true
---

# 1.1. 基本语法

# 基本结构

与 C 语言的相同之处：

- 变量、常量定义（宏定义、const）
- 运算符
- 分支（if、switch），循环（while、do-while、for）
- 数组
- 函数的声明与定义（在C语言基础上，增加了函数重载和默认值等特性）。

```cpp
#include <iostream>			// 引入库文件
using namespace std;		// 引入命名空间

int main() {

    cout << "hello world" << endl;		// 控制台输出

    return 0;
}
```

## 命名空间

**引入命名空间：**

- cout 属于 std 命令空间，引入 std 命名空间后，就可以直接使用 cout 函数。

**不引入命名空间：**

- 使用 std::cout 调用 std 命名空间下的 cout 函数。

```cpp
std::cout << "hello" << std::endl;
```

**引入部分成员：**

- 可以减少命名空间的污染。

```cpp
using std::cout;
using std::endl;
```

**命名空间的引入位置：**

- 全局引入：在函数外部引入，可以在所有函数内使用。
- 局部引入：只在当前函数中引入，其他函数不能使用。

## 项目结构

**头文件（.h）：**

- 包含函数的声明和常量的定义，告诉编译器有哪些函数。
- 引入头文件：`#include "*.h"`

**源文件（.c / .cpp）：**负责函数的实现。
**库文件：**编译后的二进制文件，也包含函数的实现，没有 main 方法，只能被调用。
**命名空间：**用来解决不同库文件中函数同名的问题。

## 库文件

- cmath：数学相关

# 变量

**修饰符：**

- unsigned：无符号型，置于数据类型之前。。
- const：常量，置于数据类型之前。

注意：与 C 语言不同，C++ 的局部变量有默认值。不初始化，默认为 0。
命名规范：变量命名使用小驼峰。

## auto 关键字

作用：

- auto 关键字可以根据赋值，自动推断类型。

注意：

- 使用 auto 必须初始化，不然无法推测类型。
- auto 变量的类型，在编译时就已经确定，无法再更改类型。

```c
auto 变量名 = 值;
```

# 数据类型

> 查看占用空间：`sizeof(数据类型)`、`sizeof(变量)`

C++ 的数据类型：
![](https://cdn.nlark.com/yuque/0/2023/jpeg/8421281/1685686876703-4db949d7-1008-4fdf-b252-514ebebe64fe.jpeg)
**关于 long 类型：**

- windows 上占 4 字节。
- Linux 32 位占 4 字节，Linux 64 位占 8 字节。

**关于布尔型：**

- bool 的值为：true、false。打印结果为：1，0。

**定义字符串：**

- C 语言风格：

```cpp
char 数组名[] = "字符串";
```

- C++ 风格：

```cpp
#include <string>

string 变量名 = "字符串";
```

## 类型转换

强制类型转换（与 C 语言相同）：

```c
(数据类型)值
```

C++ 特性：

```c
int(值)
```

数值转字符串：

```cpp
to_string(值)
```

字符串转 int：

```cpp
stoi(str)
```

# 输入和输出

## 输入

cin 支持传入任意基本类型。

```cpp
cin >> 变量;
```

输入给多个变量：

```cpp
cin >> 变量1 >> 变量2;
```

cin 的缺点：只能接受一个单词，按空白字符分割。
使用 getline 可以输入完整的一行：

```c
getline(cin, 变量);
```

## 输出

**cout 的说明：**

- 可以输出任意基本类型。
- 默认不换行，由 endl 换行。
- 使用 `<<` 可以拼接字符串，适用不同的类型。

```cpp
cout << "hello" << 250 << endl;
```

**endl 的作用：**

- 插入换行符并刷新输出流。
- 刷新输出流：将缓冲区的数据写入输出设备，并将输出缓冲区清空。

转为十六进制输出：`std::hex`

```cpp
cout << hex << num << endl;
```

# 循环

## 范围循环

```c
for (数据类型 变量 : 容器) {
    ...
}
```

使用 auto 自动推测：

```c
for (auto 变量 : 容器) { ... }
```

循环变量引用：

- 通过引用可以避免对元素进行值拷贝。
- 通过引用可以在循环中修改元素内容。

```c
for (auto &变量 : 容器) { ... }
```

只读引用：

```c
for (const auto &变量 : 容器) { ... }
```

# 

# 函数

注意：和 C 语言一样，函数必须先声明，后使用。或者定义在 main 函数前。
定义函数的方式同 C 语言。

```c
返回类型 函数名(参数列表) {
    ...
    return 返回值;
}
```

函数默认值：

```cpp
返回类型 函数名(数据类型 形参 = "值") { ... }
```

函数的重载：

- 可以定义多个同名的函数，通过参数列表的不同进行区分，返回类型也可以不同。

```cpp
void hello(string msg) {
	cout << msg << endl;
}
void hello() {
	cout << "hello" << endl;
}
```

# 结构体

与 C 语言不同，C++ 可以使用结构名作为类型，不用加 struct。
